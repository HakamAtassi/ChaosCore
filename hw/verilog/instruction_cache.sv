// Generated by CIRCT firtool-1.76.0

// Include register initializers in init blocks unless synthesis is set
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Standard header to adapt well known macros for register randomization.

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_
module instruction_cache(	// src/main/scala/Frontend/instruction_cache.scala:74:7
  input          clock,	// src/main/scala/Frontend/instruction_cache.scala:74:7
                 reset,	// src/main/scala/Frontend/instruction_cache.scala:74:7
                 io_flush,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output         io_CPU_request_ready,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  input          io_CPU_request_valid,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  input  [31:0]  io_CPU_request_bits_addr,	// src/main/scala/Frontend/instruction_cache.scala:104:16
                 io_CPU_request_bits_wr_data,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  input          io_CPU_request_bits_wr_en,	// src/main/scala/Frontend/instruction_cache.scala:104:16
                 io_CPU_response_ready,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output         io_CPU_response_valid,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [31:0]  io_CPU_response_bits_fetch_PC,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output         io_CPU_response_bits_valid_bits_0,	// src/main/scala/Frontend/instruction_cache.scala:104:16
                 io_CPU_response_bits_valid_bits_1,	// src/main/scala/Frontend/instruction_cache.scala:104:16
                 io_CPU_response_bits_valid_bits_2,	// src/main/scala/Frontend/instruction_cache.scala:104:16
                 io_CPU_response_bits_valid_bits_3,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [31:0]  io_CPU_response_bits_instructions_0_instruction,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [3:0]   io_CPU_response_bits_instructions_0_packet_index,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [5:0]   io_CPU_response_bits_instructions_0_ROB_index,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [31:0]  io_CPU_response_bits_instructions_1_instruction,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [3:0]   io_CPU_response_bits_instructions_1_packet_index,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [5:0]   io_CPU_response_bits_instructions_1_ROB_index,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [31:0]  io_CPU_response_bits_instructions_2_instruction,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [3:0]   io_CPU_response_bits_instructions_2_packet_index,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [5:0]   io_CPU_response_bits_instructions_2_ROB_index,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [31:0]  io_CPU_response_bits_instructions_3_instruction,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [3:0]   io_CPU_response_bits_instructions_3_packet_index,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [5:0]   io_CPU_response_bits_instructions_3_ROB_index,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [15:0]  io_CPU_response_bits_GHR,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [6:0]   io_CPU_response_bits_NEXT,	// src/main/scala/Frontend/instruction_cache.scala:104:16
                 io_CPU_response_bits_TOS,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  input          io_DRAM_request_ready,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output         io_DRAM_request_valid,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output [31:0]  io_DRAM_request_bits_addr,	// src/main/scala/Frontend/instruction_cache.scala:104:16
                 io_DRAM_request_bits_wr_data,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  output         io_DRAM_response_ready,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  input          io_DRAM_response_valid,	// src/main/scala/Frontend/instruction_cache.scala:104:16
  input  [255:0] io_DRAM_response_bits_data	// src/main/scala/Frontend/instruction_cache.scala:104:16
);

  wire             CPU_response_valid;	// src/main/scala/Frontend/instruction_cache.scala:348:52
  wire             miss;	// src/main/scala/Frontend/instruction_cache.scala:302:{30,79,100}
  wire [1:0]       hit_oh;	// src/main/scala/Frontend/instruction_cache.scala:295:43
  wire             _CPU_response_skid_buffer_io_enq_ready;	// src/main/scala/Frontend/instruction_cache.scala:357:50
  wire [3:0]       _validator_io_instruction_output;	// src/main/scala/Frontend/instruction_cache.scala:328:27
  wire             _data_memory_1_io_data_out_valid;	// src/main/scala/Frontend/instruction_cache.scala:142:15
  wire [20:0]      _data_memory_1_io_data_out_tag;	// src/main/scala/Frontend/instruction_cache.scala:142:15
  wire [255:0]     _data_memory_1_io_data_out_data;	// src/main/scala/Frontend/instruction_cache.scala:142:15
  wire             _data_memory_0_io_data_out_valid;	// src/main/scala/Frontend/instruction_cache.scala:142:15
  wire [20:0]      _data_memory_0_io_data_out_tag;	// src/main/scala/Frontend/instruction_cache.scala:142:15
  wire [255:0]     _data_memory_0_io_data_out_data;	// src/main/scala/Frontend/instruction_cache.scala:142:15
  wire [1:0]       _LRU_memory_io_data_out;	// src/main/scala/Frontend/instruction_cache.scala:129:33
  reg  [1:0]       cache_state;	// src/main/scala/Frontend/instruction_cache.scala:120:34
  reg  [31:0]      fetch_PC_buf_addr;	// src/main/scala/Frontend/instruction_cache.scala:123:34
  reg  [31:0]      replay_address_addr;	// src/main/scala/Frontend/instruction_cache.scala:136:42
  reg  [31:0]      replay_address_wr_data;	// src/main/scala/Frontend/instruction_cache.scala:136:42
  reg              replay_address_wr_en;	// src/main/scala/Frontend/instruction_cache.scala:136:42
  reg              request_valid;	// src/main/scala/Frontend/instruction_cache.scala:157:34
  reg  [31:0]      request_addr;	// src/main/scala/Frontend/instruction_cache.scala:158:34
  reg              resp_ready;	// src/main/scala/Frontend/instruction_cache.scala:161:34
  reg              cache_valid;	// src/main/scala/Frontend/instruction_cache.scala:162:34
  reg  [31:0]      request_addr_REG;	// src/main/scala/Frontend/instruction_cache.scala:185:52
  wire             _current_address_T_1 = (|cache_state) | miss;	// src/main/scala/Frontend/instruction_cache.scala:120:34, :235:{43,64}, :302:{30,79,100}
  wire [31:0]      current_address_addr =
    _current_address_T_1 ? replay_address_addr : io_CPU_request_bits_addr;	// src/main/scala/Frontend/instruction_cache.scala:136:42, :232:31, :235:{31,64}
  wire [31:0]      current_address_wr_data =
    _current_address_T_1 ? replay_address_wr_data : io_CPU_request_bits_wr_data;	// src/main/scala/Frontend/instruction_cache.scala:136:42, :232:31, :235:{31,64}
  wire             current_address_wr_en =
    _current_address_T_1 ? replay_address_wr_en : io_CPU_request_bits_wr_en;	// src/main/scala/Frontend/instruction_cache.scala:136:42, :232:31, :235:{31,64}
  wire [20:0]      current_packet_tag = current_address_addr[31:11];	// src/main/scala/Frontend/instruction_cache.scala:138:39, :232:31, src/main/scala/utils.scala:194:63
  wire [5:0]       current_packet_set = current_address_addr[10:5];	// src/main/scala/Frontend/instruction_cache.scala:138:39, :232:31, src/main/scala/utils.scala:195:63
  wire             current_packet_fetch_packet = current_address_addr[4];	// src/main/scala/Frontend/instruction_cache.scala:138:39, :232:31, src/main/scala/utils.scala:196:63
  wire [2:0]       current_packet_instruction_offset = current_address_addr[4:2];	// src/main/scala/Frontend/instruction_cache.scala:138:39, :232:31, src/main/scala/utils.scala:197:63
  reg  [5:0]       LRU_memory_io_wr_addr_REG;	// src/main/scala/Frontend/instruction_cache.scala:247:37
  wire [1:0]       allocate_way =
    _LRU_memory_io_data_out[1] ? {1'h0, ~(_LRU_memory_io_data_out[0])} : 2'h2;	// src/main/scala/Frontend/instruction_cache.scala:129:33, :255:18, :257:{17,21,29}, :258:26
  wire             _data_memory_1_io_wr_en_T_2 = cache_state == 2'h1;	// src/main/scala/Frontend/instruction_cache.scala:120:34, :179:24, :286:99
  reg  [20:0]      hit_oh_vec_0_REG;	// src/main/scala/Frontend/instruction_cache.scala:292:56
  wire             hit_oh_vec_0 =
    _data_memory_0_io_data_out_tag == hit_oh_vec_0_REG & _data_memory_0_io_data_out_valid;	// src/main/scala/Frontend/instruction_cache.scala:142:15, :292:{45,56,78}
  reg  [20:0]      hit_oh_vec_1_REG;	// src/main/scala/Frontend/instruction_cache.scala:292:56
  wire             hit_oh_vec_1 =
    _data_memory_1_io_data_out_tag == hit_oh_vec_1_REG & _data_memory_1_io_data_out_valid;	// src/main/scala/Frontend/instruction_cache.scala:142:15, :292:{45,56,78}
  assign hit_oh = {hit_oh_vec_1, hit_oh_vec_0};	// src/main/scala/Frontend/instruction_cache.scala:292:78, :295:43
  wire             replay_valid = cache_state == 2'h2;	// src/main/scala/Frontend/instruction_cache.scala:120:34, :299:33
  reg              hit_REG;	// src/main/scala/Frontend/instruction_cache.scala:301:38
  reg              hit_REG_1;	// src/main/scala/Frontend/instruction_cache.scala:301:125
  reg              hit_REG_2;	// src/main/scala/Frontend/instruction_cache.scala:301:146
  wire             hit = (|hit_oh) & (hit_REG | replay_valid) & ~hit_REG_1 & ~hit_REG_2;	// src/main/scala/Frontend/instruction_cache.scala:295:43, :299:33, :301:{24,28,38,98,115,117,125,136,138,146}
  reg              miss_REG;	// src/main/scala/Frontend/instruction_cache.scala:302:40
  reg              miss_REG_1;	// src/main/scala/Frontend/instruction_cache.scala:302:89
  reg              miss_REG_2;	// src/main/scala/Frontend/instruction_cache.scala:302:110
  assign miss = ~(|hit_oh) & (miss_REG | replay_valid) & ~miss_REG_1 & ~miss_REG_2;	// src/main/scala/Frontend/instruction_cache.scala:295:43, :299:33, :301:24, :302:{17,30,40,63,79,81,89,100,102,110}
  wire [255:0]     hit_instruction_data =
    hit_oh_vec_1
      ? _data_memory_1_io_data_out_data
      : hit_oh_vec_0 ? _data_memory_0_io_data_out_data : 256'h0;	// src/main/scala/Frontend/instruction_cache.scala:142:15, :292:78, :311:26, :313:30, :314:34
  reg              CPU_response_bits_instructions_0_instruction_REG;	// src/main/scala/Frontend/instruction_cache.scala:323:82
  wire [7:0][31:0] _GEN =
    {{hit_instruction_data[255:224]},
     {hit_instruction_data[223:192]},
     {hit_instruction_data[191:160]},
     {hit_instruction_data[159:128]},
     {hit_instruction_data[127:96]},
     {hit_instruction_data[95:64]},
     {hit_instruction_data[63:32]},
     {hit_instruction_data[31:0]}};	// src/main/scala/Frontend/instruction_cache.scala:313:30, :314:34, :319:61, :323:56
  reg              CPU_response_bits_instructions_1_instruction_REG;	// src/main/scala/Frontend/instruction_cache.scala:323:82
  reg              CPU_response_bits_instructions_2_instruction_REG;	// src/main/scala/Frontend/instruction_cache.scala:323:82
  reg              CPU_response_bits_instructions_3_instruction_REG;	// src/main/scala/Frontend/instruction_cache.scala:323:82
  reg              CPU_response_valid_REG;	// src/main/scala/Frontend/instruction_cache.scala:348:76
  assign CPU_response_valid = (cache_valid | hit) & ~(io_flush | CPU_response_valid_REG);	// src/main/scala/Frontend/instruction_cache.scala:162:34, :301:{28,115,136}, :348:{44,52,55,66,76}
  always @(posedge clock) begin	// src/main/scala/Frontend/instruction_cache.scala:74:7
    if (reset) begin	// src/main/scala/Frontend/instruction_cache.scala:74:7
      cache_state <= 2'h0;	// src/main/scala/Frontend/instruction_cache.scala:120:34
      fetch_PC_buf_addr <= 32'h0;	// src/main/scala/Frontend/instruction_cache.scala:123:34, :158:34
      replay_address_addr <= 32'h0;	// src/main/scala/Frontend/instruction_cache.scala:136:42, :158:34
      replay_address_wr_data <= 32'h0;	// src/main/scala/Frontend/instruction_cache.scala:136:42, :158:34
      replay_address_wr_en <= 1'h0;	// src/main/scala/Frontend/instruction_cache.scala:136:42
      request_valid <= 1'h0;	// src/main/scala/Frontend/instruction_cache.scala:157:34
      request_addr <= 32'h0;	// src/main/scala/Frontend/instruction_cache.scala:158:34
      resp_ready <= 1'h0;	// src/main/scala/Frontend/instruction_cache.scala:161:34
      cache_valid <= 1'h0;	// src/main/scala/Frontend/instruction_cache.scala:162:34
    end
    else begin	// src/main/scala/Frontend/instruction_cache.scala:74:7
      automatic logic _GEN_0;	// src/main/scala/Frontend/instruction_cache.scala:183:29
      automatic logic _GEN_1;	// src/main/scala/Frontend/instruction_cache.scala:179:24
      automatic logic _GEN_2;	// src/main/scala/Frontend/instruction_cache.scala:158:34, :179:24, :198:35, :203:69
      automatic logic _GEN_3;	// src/main/scala/Frontend/instruction_cache.scala:207:45
      _GEN_0 = miss & ~io_flush;	// src/main/scala/Frontend/instruction_cache.scala:183:{29,41}, :302:{30,79,100}
      _GEN_1 = cache_state == 2'h1;	// src/main/scala/Frontend/instruction_cache.scala:120:34, :179:24
      _GEN_2 = ~_GEN_1 | io_flush | ~(io_DRAM_request_ready & request_valid);	// src/main/scala/Frontend/instruction_cache.scala:157:34, :158:34, :179:24, :198:35, :203:{44,69}
      _GEN_3 = io_DRAM_response_valid & resp_ready;	// src/main/scala/Frontend/instruction_cache.scala:161:34, :207:45
      if (|cache_state) begin	// src/main/scala/Frontend/instruction_cache.scala:120:34, :179:24
        automatic logic _GEN_4;	// src/main/scala/Frontend/instruction_cache.scala:162:34, :179:24, :216:35, :218:29, :220:63, :221:33
        _GEN_4 =
          cache_state == 2'h2
          & (io_flush | CPU_response_valid & _CPU_response_skid_buffer_io_enq_ready);	// src/main/scala/Frontend/instruction_cache.scala:120:34, :162:34, :179:24, :216:35, :218:29, :220:{41,63}, :221:33, :348:52, :357:50
        if (_GEN_1) begin	// src/main/scala/Frontend/instruction_cache.scala:179:24
          if (io_flush)	// src/main/scala/Frontend/instruction_cache.scala:104:16
            cache_state <= 2'h0;	// src/main/scala/Frontend/instruction_cache.scala:120:34
          else if (_GEN_3)	// src/main/scala/Frontend/instruction_cache.scala:207:45
            cache_state <= 2'h2;	// src/main/scala/Frontend/instruction_cache.scala:120:34
        end
        else if (_GEN_4)	// src/main/scala/Frontend/instruction_cache.scala:162:34, :179:24, :216:35, :218:29, :220:63, :221:33
          cache_state <= 2'h0;	// src/main/scala/Frontend/instruction_cache.scala:120:34
        if (_GEN_2) begin	// src/main/scala/Frontend/instruction_cache.scala:158:34, :179:24, :198:35, :203:69
        end
        else	// src/main/scala/Frontend/instruction_cache.scala:158:34, :179:24, :198:35, :203:69
          request_addr <= 32'h0;	// src/main/scala/Frontend/instruction_cache.scala:158:34
        cache_valid <=
          _GEN_1 ? ~io_flush & (_GEN_3 | cache_valid) : ~_GEN_4 & cache_valid;	// src/main/scala/Frontend/instruction_cache.scala:162:34, :179:24, :198:35, :200:29, :207:{45,71}, :209:33, :216:35, :218:29, :220:63, :221:33
      end
      else if (_GEN_0) begin	// src/main/scala/Frontend/instruction_cache.scala:183:29
        cache_state <= 2'h1;	// src/main/scala/Frontend/instruction_cache.scala:120:34, :179:24
        request_addr <= request_addr_REG & 32'hFFFFFFE0;	// src/main/scala/Frontend/instruction_cache.scala:158:34, :185:{52,79}
      end
      if ((|cache_state) | _GEN_0) begin	// src/main/scala/Frontend/instruction_cache.scala:120:34, :136:42, :179:24, :183:{29,49}
      end
      else begin	// src/main/scala/Frontend/instruction_cache.scala:136:42, :179:24, :183:49
        fetch_PC_buf_addr <= io_CPU_request_bits_addr;	// src/main/scala/Frontend/instruction_cache.scala:123:34
        replay_address_addr <= io_CPU_request_bits_addr;	// src/main/scala/Frontend/instruction_cache.scala:136:42
        replay_address_wr_data <= io_CPU_request_bits_wr_data;	// src/main/scala/Frontend/instruction_cache.scala:136:42
        replay_address_wr_en <= io_CPU_request_bits_wr_en;	// src/main/scala/Frontend/instruction_cache.scala:136:42
      end
      request_valid <= (|cache_state) ? _GEN_2 & request_valid : _GEN_0 | request_valid;	// src/main/scala/Frontend/instruction_cache.scala:120:34, :157:34, :158:34, :179:24, :183:{29,49}, :186:42, :198:35, :203:69
      resp_ready <=
        (|cache_state)
          ? (~_GEN_1 | io_flush | ~_GEN_3) & resp_ready
          : _GEN_0 | resp_ready;	// src/main/scala/Frontend/instruction_cache.scala:120:34, :158:34, :161:34, :179:24, :183:{29,49}, :187:42, :198:35, :207:{45,71}, :208:33
    end
    request_addr_REG <= io_CPU_request_bits_addr;	// src/main/scala/Frontend/instruction_cache.scala:185:52
    LRU_memory_io_wr_addr_REG <= current_packet_set;	// src/main/scala/Frontend/instruction_cache.scala:138:39, :247:37
    hit_oh_vec_0_REG <= current_packet_tag;	// src/main/scala/Frontend/instruction_cache.scala:138:39, :292:56
    hit_oh_vec_1_REG <= current_packet_tag;	// src/main/scala/Frontend/instruction_cache.scala:138:39, :292:56
    hit_REG <= io_CPU_request_valid & ~(|cache_state);	// src/main/scala/Frontend/instruction_cache.scala:120:34, :179:24, :301:{38,60,75}
    hit_REG_1 <= io_flush;	// src/main/scala/Frontend/instruction_cache.scala:301:125
    hit_REG_2 <= reset;	// src/main/scala/Frontend/instruction_cache.scala:301:146
    miss_REG <= io_CPU_request_valid;	// src/main/scala/Frontend/instruction_cache.scala:302:40
    miss_REG_1 <= io_flush;	// src/main/scala/Frontend/instruction_cache.scala:302:89
    miss_REG_2 <= reset;	// src/main/scala/Frontend/instruction_cache.scala:302:110
    CPU_response_bits_instructions_0_instruction_REG <= current_packet_fetch_packet;	// src/main/scala/Frontend/instruction_cache.scala:138:39, :323:82
    CPU_response_bits_instructions_1_instruction_REG <= current_packet_fetch_packet;	// src/main/scala/Frontend/instruction_cache.scala:138:39, :323:82
    CPU_response_bits_instructions_2_instruction_REG <= current_packet_fetch_packet;	// src/main/scala/Frontend/instruction_cache.scala:138:39, :323:82
    CPU_response_bits_instructions_3_instruction_REG <= current_packet_fetch_packet;	// src/main/scala/Frontend/instruction_cache.scala:138:39, :323:82
    CPU_response_valid_REG <= io_flush;	// src/main/scala/Frontend/instruction_cache.scala:348:76
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/Frontend/instruction_cache.scala:74:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/Frontend/instruction_cache.scala:74:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/Frontend/instruction_cache.scala:74:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/Frontend/instruction_cache.scala:74:7
      automatic logic [31:0] _RANDOM[0:9];	// src/main/scala/Frontend/instruction_cache.scala:74:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/Frontend/instruction_cache.scala:74:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/Frontend/instruction_cache.scala:74:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/Frontend/instruction_cache.scala:74:7
        for (logic [3:0] i = 4'h0; i < 4'hA; i += 4'h1) begin
          _RANDOM[i] = `RANDOM;	// src/main/scala/Frontend/instruction_cache.scala:74:7
        end	// src/main/scala/Frontend/instruction_cache.scala:74:7
        cache_state = _RANDOM[4'h0][1:0];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :120:34
        fetch_PC_buf_addr = {_RANDOM[4'h0][31:2], _RANDOM[4'h1][1:0]};	// src/main/scala/Frontend/instruction_cache.scala:74:7, :120:34, :123:34
        replay_address_addr = {_RANDOM[4'h2][31:3], _RANDOM[4'h3][2:0]};	// src/main/scala/Frontend/instruction_cache.scala:74:7, :136:42
        replay_address_wr_data = {_RANDOM[4'h3][31:3], _RANDOM[4'h4][2:0]};	// src/main/scala/Frontend/instruction_cache.scala:74:7, :136:42
        replay_address_wr_en = _RANDOM[4'h4][3];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :136:42
        request_valid = _RANDOM[4'h4][4];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :136:42, :157:34
        request_addr = {_RANDOM[4'h4][31:5], _RANDOM[4'h5][4:0]};	// src/main/scala/Frontend/instruction_cache.scala:74:7, :136:42, :158:34
        resp_ready = _RANDOM[4'h6][6];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :161:34
        cache_valid = _RANDOM[4'h6][7];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :161:34, :162:34
        request_addr_REG = {_RANDOM[4'h6][31:9], _RANDOM[4'h7][8:0]};	// src/main/scala/Frontend/instruction_cache.scala:74:7, :161:34, :185:52
        LRU_memory_io_wr_addr_REG = _RANDOM[4'h7][14:9];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :185:52, :247:37
        hit_oh_vec_0_REG = {_RANDOM[4'h7][31:15], _RANDOM[4'h8][3:0]};	// src/main/scala/Frontend/instruction_cache.scala:74:7, :185:52, :292:56
        hit_oh_vec_1_REG = _RANDOM[4'h8][24:4];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :292:56
        hit_REG = _RANDOM[4'h8][25];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :292:56, :301:38
        hit_REG_1 = _RANDOM[4'h8][26];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :292:56, :301:125
        hit_REG_2 = _RANDOM[4'h8][27];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :292:56, :301:146
        miss_REG = _RANDOM[4'h8][28];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :292:56, :302:40
        miss_REG_1 = _RANDOM[4'h8][29];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :292:56, :302:89
        miss_REG_2 = _RANDOM[4'h8][30];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :292:56, :302:110
        CPU_response_bits_instructions_0_instruction_REG = _RANDOM[4'h9][0];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :323:82
        CPU_response_bits_instructions_1_instruction_REG = _RANDOM[4'h9][1];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :323:82
        CPU_response_bits_instructions_2_instruction_REG = _RANDOM[4'h9][2];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :323:82
        CPU_response_bits_instructions_3_instruction_REG = _RANDOM[4'h9][3];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :323:82
        CPU_response_valid_REG = _RANDOM[4'h9][4];	// src/main/scala/Frontend/instruction_cache.scala:74:7, :323:82, :348:76
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/Frontend/instruction_cache.scala:74:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/Frontend/instruction_cache.scala:74:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  SDPReadWriteSmem_1 LRU_memory (	// src/main/scala/Frontend/instruction_cache.scala:129:33
    .clock       (clock),
    .reset       (reset),
    .io_rd_addr  (current_packet_set),	// src/main/scala/Frontend/instruction_cache.scala:138:39
    .io_data_out (_LRU_memory_io_data_out),
    .io_wr_addr  (LRU_memory_io_wr_addr_REG),	// src/main/scala/Frontend/instruction_cache.scala:247:37
    .io_wr_en    (hit),	// src/main/scala/Frontend/instruction_cache.scala:301:{28,115,136}
    .io_data_in
      ({2{(_LRU_memory_io_data_out | hit_oh) != 2'h3}} & _LRU_memory_io_data_out | hit_oh)	// src/main/scala/Frontend/instruction_cache.scala:129:33, :253:{20,26,36}, :295:43
  );	// src/main/scala/Frontend/instruction_cache.scala:129:33
  icache_ReadWriteSmem data_memory_0 (	// src/main/scala/Frontend/instruction_cache.scala:142:15
    .clock             (clock),
    .io_wr_en
      (io_DRAM_response_valid & allocate_way[0] & _data_memory_1_io_wr_en_T_2),	// src/main/scala/Frontend/instruction_cache.scala:257:29, :258:26, :286:{63,77,83,99}
    .io_addr           (current_packet_set),	// src/main/scala/Frontend/instruction_cache.scala:138:39
    .io_data_in_tag    (replay_address_addr[31:11]),	// src/main/scala/Frontend/instruction_cache.scala:136:42, src/main/scala/utils.scala:194:63
    .io_data_in_data   (io_DRAM_response_bits_data),
    .io_data_out_valid (_data_memory_0_io_data_out_valid),
    .io_data_out_tag   (_data_memory_0_io_data_out_tag),
    .io_data_out_data  (_data_memory_0_io_data_out_data)
  );	// src/main/scala/Frontend/instruction_cache.scala:142:15
  icache_ReadWriteSmem data_memory_1 (	// src/main/scala/Frontend/instruction_cache.scala:142:15
    .clock             (clock),
    .io_wr_en
      (io_DRAM_response_valid & allocate_way[1] & _data_memory_1_io_wr_en_T_2),	// src/main/scala/Frontend/instruction_cache.scala:257:29, :258:26, :286:{63,77,83,99}
    .io_addr           (current_packet_set),	// src/main/scala/Frontend/instruction_cache.scala:138:39
    .io_data_in_tag    (replay_address_addr[31:11]),	// src/main/scala/Frontend/instruction_cache.scala:136:42, src/main/scala/utils.scala:194:63
    .io_data_in_data   (io_DRAM_response_bits_data),
    .io_data_out_valid (_data_memory_1_io_data_out_valid),
    .io_data_out_tag   (_data_memory_1_io_data_out_tag),
    .io_data_out_data  (_data_memory_1_io_data_out_data)
  );	// src/main/scala/Frontend/instruction_cache.scala:142:15
  instruction_validator validator (	// src/main/scala/Frontend/instruction_cache.scala:328:27
    .io_instruction_index  (fetch_PC_buf_addr[3:2]),	// src/main/scala/Frontend/instruction_cache.scala:123:34, :331:36
    .io_instruction_output (_validator_io_instruction_output)
  );	// src/main/scala/Frontend/instruction_cache.scala:328:27
  Queue1_fetch_packet CPU_response_skid_buffer (	// src/main/scala/Frontend/instruction_cache.scala:357:50
    .clock                                   (clock),
    .reset                                   (reset),
    .io_enq_ready                            (_CPU_response_skid_buffer_io_enq_ready),
    .io_enq_valid                            (CPU_response_valid),	// src/main/scala/Frontend/instruction_cache.scala:348:52
    .io_enq_bits_fetch_PC                    (fetch_PC_buf_addr),	// src/main/scala/Frontend/instruction_cache.scala:123:34
    .io_enq_bits_valid_bits_0
      (_validator_io_instruction_output[3] & CPU_response_valid),	// src/main/scala/Frontend/instruction_cache.scala:328:27, :334:{74,91}, :348:52
    .io_enq_bits_valid_bits_1
      (_validator_io_instruction_output[2] & CPU_response_valid),	// src/main/scala/Frontend/instruction_cache.scala:328:27, :334:{74,91}, :348:52
    .io_enq_bits_valid_bits_2
      (_validator_io_instruction_output[1] & CPU_response_valid),	// src/main/scala/Frontend/instruction_cache.scala:328:27, :334:{74,91}, :348:52
    .io_enq_bits_valid_bits_3
      (_validator_io_instruction_output[0] & CPU_response_valid),	// src/main/scala/Frontend/instruction_cache.scala:328:27, :334:{74,91}, :348:52
    .io_enq_bits_instructions_0_instruction
      (_GEN[{CPU_response_bits_instructions_0_instruction_REG, 2'h0}]),	// src/main/scala/Frontend/instruction_cache.scala:323:{56,82}
    .io_enq_bits_instructions_1_instruction
      (_GEN[{CPU_response_bits_instructions_1_instruction_REG, 2'h0} + 3'h1]),	// src/main/scala/Frontend/instruction_cache.scala:323:{56,82,125}
    .io_enq_bits_instructions_2_instruction
      (_GEN[{CPU_response_bits_instructions_2_instruction_REG, 2'h0} + 3'h2]),	// src/main/scala/Frontend/instruction_cache.scala:323:{56,82,125}
    .io_enq_bits_instructions_3_instruction
      (_GEN[{CPU_response_bits_instructions_3_instruction_REG, 2'h0} + 3'h3]),	// src/main/scala/Frontend/instruction_cache.scala:323:{56,82,125}
    .io_deq_ready                            (io_CPU_response_ready),
    .io_deq_valid                            (io_CPU_response_valid),
    .io_deq_bits_fetch_PC                    (io_CPU_response_bits_fetch_PC),
    .io_deq_bits_valid_bits_0                (io_CPU_response_bits_valid_bits_0),
    .io_deq_bits_valid_bits_1                (io_CPU_response_bits_valid_bits_1),
    .io_deq_bits_valid_bits_2                (io_CPU_response_bits_valid_bits_2),
    .io_deq_bits_valid_bits_3                (io_CPU_response_bits_valid_bits_3),
    .io_deq_bits_instructions_0_instruction
      (io_CPU_response_bits_instructions_0_instruction),
    .io_deq_bits_instructions_0_packet_index
      (io_CPU_response_bits_instructions_0_packet_index),
    .io_deq_bits_instructions_0_ROB_index
      (io_CPU_response_bits_instructions_0_ROB_index),
    .io_deq_bits_instructions_1_instruction
      (io_CPU_response_bits_instructions_1_instruction),
    .io_deq_bits_instructions_1_packet_index
      (io_CPU_response_bits_instructions_1_packet_index),
    .io_deq_bits_instructions_1_ROB_index
      (io_CPU_response_bits_instructions_1_ROB_index),
    .io_deq_bits_instructions_2_instruction
      (io_CPU_response_bits_instructions_2_instruction),
    .io_deq_bits_instructions_2_packet_index
      (io_CPU_response_bits_instructions_2_packet_index),
    .io_deq_bits_instructions_2_ROB_index
      (io_CPU_response_bits_instructions_2_ROB_index),
    .io_deq_bits_instructions_3_instruction
      (io_CPU_response_bits_instructions_3_instruction),
    .io_deq_bits_instructions_3_packet_index
      (io_CPU_response_bits_instructions_3_packet_index),
    .io_deq_bits_instructions_3_ROB_index
      (io_CPU_response_bits_instructions_3_ROB_index),
    .io_deq_bits_GHR                         (io_CPU_response_bits_GHR),
    .io_deq_bits_NEXT                        (io_CPU_response_bits_NEXT),
    .io_deq_bits_TOS                         (io_CPU_response_bits_TOS),
    .io_flush                                (io_flush)
  );	// src/main/scala/Frontend/instruction_cache.scala:357:50
  assign io_CPU_request_ready = ~(|cache_state) & ~miss & io_CPU_response_ready;	// src/main/scala/Frontend/instruction_cache.scala:74:7, :120:34, :179:24, :301:75, :302:{30,79,100}, :355:{65,68,74}
  assign io_DRAM_request_valid = request_valid;	// src/main/scala/Frontend/instruction_cache.scala:74:7, :157:34
  assign io_DRAM_request_bits_addr = request_addr;	// src/main/scala/Frontend/instruction_cache.scala:74:7, :158:34
  assign io_DRAM_request_bits_wr_data = 32'h0;	// src/main/scala/Frontend/instruction_cache.scala:74:7, :158:34
  assign io_DRAM_response_ready = resp_ready;	// src/main/scala/Frontend/instruction_cache.scala:74:7, :161:34
endmodule

