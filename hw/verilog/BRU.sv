// Generated by CIRCT firtool-1.76.0
module BRU(	// src/main/scala/Frontend/BRU.scala:37:7
  input         io_FTQ_valid,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [31:0] io_FTQ_fetch_PC,	// src/main/scala/Frontend/BRU.scala:40:16
                io_FTQ_predicted_PC,	// src/main/scala/Frontend/BRU.scala:40:16
  input         io_FTQ_T_NT,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [2:0]  io_FTQ_br_type,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [15:0] io_FTQ_GHR,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [6:0]  io_FTQ_NEXT,	// src/main/scala/Frontend/BRU.scala:40:16
                io_FTQ_TOS,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [1:0]  io_FTQ_dominant_index,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [31:0] io_FTQ_resolved_PC,	// src/main/scala/Frontend/BRU.scala:40:16
  input         io_ROB_output_row_valid,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [31:0] io_ROB_output_fetch_PC,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [3:0]  io_ROB_output_RAT_index,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [5:0]  io_ROB_output_ROB_index,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [7:0]  io_ROB_output_free_list_front_pointer,	// src/main/scala/Frontend/BRU.scala:40:16
  input         io_ROB_output_ROB_entries_0_valid,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_0_is_load,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_0_is_store,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [6:0]  io_ROB_output_ROB_entries_0_RD,	// src/main/scala/Frontend/BRU.scala:40:16
  input         io_ROB_output_ROB_entries_0_RD_valid,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_1_valid,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_1_is_load,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_1_is_store,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [6:0]  io_ROB_output_ROB_entries_1_RD,	// src/main/scala/Frontend/BRU.scala:40:16
  input         io_ROB_output_ROB_entries_1_RD_valid,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_2_valid,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_2_is_load,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_2_is_store,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [6:0]  io_ROB_output_ROB_entries_2_RD,	// src/main/scala/Frontend/BRU.scala:40:16
  input         io_ROB_output_ROB_entries_2_RD_valid,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_3_valid,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_3_is_load,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_ROB_entries_3_is_store,	// src/main/scala/Frontend/BRU.scala:40:16
  input  [6:0]  io_ROB_output_ROB_entries_3_RD,	// src/main/scala/Frontend/BRU.scala:40:16
  input         io_ROB_output_ROB_entries_3_RD_valid,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_complete_0,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_complete_1,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_complete_2,	// src/main/scala/Frontend/BRU.scala:40:16
                io_ROB_output_complete_3,	// src/main/scala/Frontend/BRU.scala:40:16
  output        io_commit_valid,	// src/main/scala/Frontend/BRU.scala:40:16
  output [31:0] io_commit_bits_fetch_PC,	// src/main/scala/Frontend/BRU.scala:40:16
  output        io_commit_bits_T_NT,	// src/main/scala/Frontend/BRU.scala:40:16
  output [5:0]  io_commit_bits_ROB_index,	// src/main/scala/Frontend/BRU.scala:40:16
  output [2:0]  io_commit_bits_br_type,	// src/main/scala/Frontend/BRU.scala:40:16
  output [1:0]  io_commit_bits_fetch_packet_index,	// src/main/scala/Frontend/BRU.scala:40:16
  output        io_commit_bits_is_misprediction,	// src/main/scala/Frontend/BRU.scala:40:16
  output [31:0] io_commit_bits_expected_PC,	// src/main/scala/Frontend/BRU.scala:40:16
  output [15:0] io_commit_bits_GHR,	// src/main/scala/Frontend/BRU.scala:40:16
  output [6:0]  io_commit_bits_TOS,	// src/main/scala/Frontend/BRU.scala:40:16
                io_commit_bits_NEXT,	// src/main/scala/Frontend/BRU.scala:40:16
  output [3:0]  io_commit_bits_RAT_index,	// src/main/scala/Frontend/BRU.scala:40:16
  output [7:0]  io_commit_bits_free_list_front_pointer,	// src/main/scala/Frontend/BRU.scala:40:16
  output [6:0]  io_commit_bits_RD_0,	// src/main/scala/Frontend/BRU.scala:40:16
                io_commit_bits_RD_1,	// src/main/scala/Frontend/BRU.scala:40:16
                io_commit_bits_RD_2,	// src/main/scala/Frontend/BRU.scala:40:16
                io_commit_bits_RD_3,	// src/main/scala/Frontend/BRU.scala:40:16
  output        io_commit_bits_RD_valid_0,	// src/main/scala/Frontend/BRU.scala:40:16
                io_commit_bits_RD_valid_1,	// src/main/scala/Frontend/BRU.scala:40:16
                io_commit_bits_RD_valid_2,	// src/main/scala/Frontend/BRU.scala:40:16
                io_commit_bits_RD_valid_3	// src/main/scala/Frontend/BRU.scala:40:16
);

  wire commit_valid =
    io_ROB_output_row_valid
    & (io_ROB_output_complete_0 & io_ROB_output_ROB_entries_0_valid
       | ~io_ROB_output_ROB_entries_0_valid | io_ROB_output_ROB_entries_0_is_load
       | io_ROB_output_ROB_entries_0_is_store)
    & (io_ROB_output_complete_1 & io_ROB_output_ROB_entries_1_valid
       | ~io_ROB_output_ROB_entries_1_valid | io_ROB_output_ROB_entries_1_is_load
       | io_ROB_output_ROB_entries_1_is_store)
    & (io_ROB_output_complete_2 & io_ROB_output_ROB_entries_2_valid
       | ~io_ROB_output_ROB_entries_2_valid | io_ROB_output_ROB_entries_2_is_load
       | io_ROB_output_ROB_entries_2_is_store)
    & (io_ROB_output_complete_3 & io_ROB_output_ROB_entries_3_valid
       | ~io_ROB_output_ROB_entries_3_valid | io_ROB_output_ROB_entries_3_is_load
       | io_ROB_output_ROB_entries_3_is_store);	// src/main/scala/Frontend/BRU.scala:55:58, :56:32, :59:{48,62,73}, :61:{45,77}
  wire branch_commit =
    commit_valid & io_ROB_output_fetch_PC == io_FTQ_fetch_PC & io_FTQ_valid;	// src/main/scala/Frontend/BRU.scala:61:{45,77}, :83:{38,65,86}
  assign io_commit_valid = commit_valid;	// src/main/scala/Frontend/BRU.scala:37:7, :61:{45,77}
  assign io_commit_bits_fetch_PC = io_ROB_output_fetch_PC;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_T_NT = branch_commit & io_FTQ_T_NT;	// src/main/scala/Frontend/BRU.scala:37:7, :83:{38,86}, :86:42, :91:24, :93:46
  assign io_commit_bits_ROB_index = io_ROB_output_ROB_index;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_br_type = branch_commit ? io_FTQ_br_type : 3'h0;	// src/main/scala/Frontend/BRU.scala:37:7, :83:{38,86}, :87:42, :91:24, :94:46
  assign io_commit_bits_fetch_packet_index = branch_commit ? io_FTQ_dominant_index : 2'h0;	// src/main/scala/Frontend/BRU.scala:37:7, :83:{38,86}, :88:42, :91:24, :97:46
  assign io_commit_bits_is_misprediction =
    branch_commit & io_FTQ_predicted_PC != io_FTQ_resolved_PC;	// src/main/scala/Frontend/BRU.scala:37:7, :83:{38,86}, :85:42, :91:24, :92:{46,70,94}
  assign io_commit_bits_expected_PC = branch_commit ? io_FTQ_resolved_PC : 32'h0;	// src/main/scala/Frontend/BRU.scala:37:7, :83:{38,86}, :89:42, :91:24, :96:46
  assign io_commit_bits_GHR = io_FTQ_GHR;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_TOS = io_FTQ_TOS;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_NEXT = io_FTQ_NEXT;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_RAT_index = io_ROB_output_RAT_index;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_free_list_front_pointer = io_ROB_output_free_list_front_pointer;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_RD_0 = io_ROB_output_ROB_entries_0_RD;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_RD_1 = io_ROB_output_ROB_entries_1_RD;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_RD_2 = io_ROB_output_ROB_entries_2_RD;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_RD_3 = io_ROB_output_ROB_entries_3_RD;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_RD_valid_0 = io_ROB_output_ROB_entries_0_RD_valid;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_RD_valid_1 = io_ROB_output_ROB_entries_1_RD_valid;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_RD_valid_2 = io_ROB_output_ROB_entries_2_RD_valid;	// src/main/scala/Frontend/BRU.scala:37:7
  assign io_commit_bits_RD_valid_3 = io_ROB_output_ROB_entries_3_RD_valid;	// src/main/scala/Frontend/BRU.scala:37:7
endmodule

